import{a as L,b as p,c as y,d as b,e as A,f as v,g as T,h as F,i as N,j as q,k as R}from"./chunk-BOQ7XA22.js";import{g as E,h as w}from"./chunk-537JUVH5.js";import{Aa as s,Ca as S,Ea as u,Fa as i,Ga as o,Ha as g,Ia as h,Ja as _,Ka as l,Ma as x,W as C,pa as a,qa as f}from"./chunk-B72D4YXY.js";function G(e,m){e&1&&(i(0,"small",10),l(1,"Email is required"),o())}function k(e,m){e&1&&(i(0,"small",10),l(1,"enter valid mail"),o())}function D(e,m){if(e&1&&(i(0,"div",5),s(1,G,2,0,"small",10)(2,k,2,0),o()),e&2){let t,n=_();a(),u(1,(t=n.loginform.get("email"))!=null&&t.getError("required")?1:(t=n.loginform.get("email"))!=null&&t.getError("email")?2:-1)}}function I(e,m){e&1&&(i(0,"small",10),l(1,"Password is required"),o())}function M(e,m){e&1&&(i(0,"small",10),l(1," password is invalid"),o())}function P(e,m){if(e&1&&(i(0,"div",5),s(1,I,2,0,"small",10)(2,M,2,0),o()),e&2){let t,n=_();a(),u(1,(t=n.loginform.get("password"))!=null&&t.getError("required")?1:(t=n.loginform.get("password"))!=null&&t.getError("pattern")?2:-1)}}var H=(()=>{class e{constructor(t,n){this._AuthallApiService=t,this._Router=n,this.loginform=new A({email:new v(null,[p.required,p.email]),password:new v(null,[p.required,p.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)])})}getlogin(){this._AuthallApiService.login(this.loginform.value).subscribe({next:t=>{console.log(t),this._Router.navigate(["/home"]),t.message=="success"&&localStorage.setItem("usertoken",t.token)}})}static{this.\u0275fac=function(n){return new(n||e)(f(R),f(E))}}static{this.\u0275cmp=C({type:e,selectors:[["app-login"]],standalone:!0,features:[x],decls:17,vars:3,consts:[[1,"container","mt-5"],[1,"auth-head"],[3,"ngSubmit","formGroup"],[1,"py-4"],["type","email","placeholder","Email","formControlName","email",1,"form-control"],[1,"alert","alert-danger","py-1"],["type","text","placeholder","Password","formControlName","password",1,"form-control"],[1,"text-end","mt-3"],["routerLink","/forgetpassword"],[1,"btn","btn-auth","my-5","w-100"],[1,"p-0"]],template:function(n,r){if(n&1&&(i(0,"div")(1,"div",0)(2,"p",1),l(3,"Sign in"),o(),i(4,"form",2),h("ngSubmit",function(){return r.getlogin()}),i(5,"div",3),g(6,"input",4),s(7,D,3,1,"div",5),o(),i(8,"div"),g(9,"input",6),s(10,P,3,1,"div",5),i(11,"div",7)(12,"a",8),l(13,"Recover Password?"),o(),g(14,"small"),o()(),i(15,"button",9),l(16,"Login"),o()()()()),n&2){let d,c;a(4),S("formGroup",r.loginform),a(3),u(7,(d=r.loginform.get("email"))!=null&&d.errors&&((d=r.loginform.get("email"))!=null&&d.touched)?7:-1),a(3),u(10,(c=r.loginform.get("password"))!=null&&c.errors&&((c=r.loginform.get("password"))!=null&&c.touched)?10:-1)}},dependencies:[q,T,L,y,b,F,N,w]})}}return e})();export{H as LoginComponent};
